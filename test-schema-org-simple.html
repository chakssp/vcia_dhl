<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compara√ß√£o: Sem vs Com Schema.org</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }
        .column {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .column h2 {
            margin-top: 0;
            padding-bottom: 10px;
            border-bottom: 2px solid #ddd;
        }
        .without { border-top: 4px solid #dc3545; }
        .with { border-top: 4px solid #28a745; }
        pre {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 4px;
            overflow-x: auto;
            font-size: 12px;
            line-height: 1.5;
        }
        .highlight {
            background: #ffeb3b;
            padding: 2px 4px;
            border-radius: 2px;
        }
        .benefit {
            background: #e8f5e9;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
            border-left: 4px solid #4caf50;
        }
        .problem {
            background: #ffebee;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
            border-left: 4px solid #f44336;
        }
        button {
            background: #2196f3;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 0;
        }
        button:hover {
            background: #1976d2;
        }
        .comparison-header {
            text-align: center;
            margin-bottom: 30px;
        }
        .comparison-header h1 {
            color: #333;
            margin-bottom: 10px;
        }
        .status { 
            padding: 5px 10px; 
            border-radius: 4px; 
            font-weight: bold;
            display: inline-block;
        }
        .status.error { background: #ffcdd2; color: #c62828; }
        .status.success { background: #c8e6c9; color: #2e7d32; }
    </style>
</head>
<body>
    <div class="comparison-header">
        <h1>üìä Compara√ß√£o: Sem Schema.org vs Com Schema.org</h1>
        <p>Demonstra√ß√£o da diferen√ßa entre dados sint√°ticos e sem√¢nticos</p>
        <button onclick="generateComparison()">üîÑ Gerar Compara√ß√£o</button>
        <span id="status"></span>
    </div>

    <div class="container">
        <div class="column without">
            <h2>‚ùå Sem Schema.org (Sint√°tico)</h2>
            <div class="problem">
                <strong>Problemas:</strong>
                <ul>
                    <li>Dados sem contexto sem√¢ntico</li>
                    <li>Imposs√≠vel para m√°quinas entenderem o significado</li>
                    <li>Sem padroniza√ß√£o universal</li>
                    <li>Dificulta integra√ß√£o com outros sistemas</li>
                </ul>
            </div>
            <pre id="without-schema"></pre>
        </div>

        <div class="column with">
            <h2>‚úÖ Com Schema.org (Sem√¢ntico)</h2>
            <div class="benefit">
                <strong>Benef√≠cios:</strong>
                <ul>
                    <li>Dados com significado expl√≠cito</li>
                    <li>Compreens√≠vel por m√°quinas e humanos</li>
                    <li>Padr√£o universal reconhecido</li>
                    <li>Facilita SEO, integra√ß√£o e descoberta</li>
                </ul>
            </div>
            <pre id="with-schema"></pre>
        </div>
    </div>

    <script>
        // Dados de exemplo
        const exampleFile = {
            id: 'test-001',
            name: 'implementacao-cache-redis.md',
            content: 'Este documento descreve a implementa√ß√£o de cache distribu√≠do com Redis...',
            preview: 'Implementa√ß√£o de cache distribu√≠do com Redis para otimiza√ß√£o de performance...',
            analysisType: 'Breakthrough T√©cnico',
            relevanceScore: 85,
            categories: ['DevOps', 'Arquitetura', 'Performance'],
            analyzed: true,
            analysisDate: '2025-01-21T14:30:00Z',
            createdDate: '2024-10-15T10:00:00Z',
            modifiedDate: '2024-11-20T14:30:00Z',
            size: 2048
        };

        // Simular SchemaOrgMapper
        const SchemaOrgMapper = {
            mapToSchema: function(file) {
                return {
                    '@context': 'https://schema.org',
                    '@type': 'TechArticle',
                    '@id': `urn:knowledge-base:breakthrough-t√©cnico:${file.id}`,
                    'name': file.name,
                    'description': 'Documento t√©cnico com solu√ß√µes, configura√ß√µes ou arquiteturas inovadoras. ' + file.preview,
                    'dateCreated': file.createdDate,
                    'dateModified': file.modifiedDate,
                    'author': {
                        '@type': 'Person',
                        'name': 'Knowledge Consolidator User'
                    },
                    'publisher': {
                        '@type': 'Organization',
                        'name': 'Personal Knowledge Base'
                    },
                    'keywords': file.categories,
                    'inLanguage': 'pt-BR',
                    'technicalAudience': true,
                    'proficiencyLevel': 'Expert',
                    'about': file.categories.map(cat => ({
                        '@type': 'Thing',
                        'name': cat,
                        'alternateName': cat === 'DevOps' ? 'Development Operations' : cat
                    })),
                    'abstract': file.preview,
                    'curatorNote': {
                        '@type': 'Comment',
                        'text': `Classificado como "${file.analysisType}" atrav√©s de curadoria humana`,
                        'dateCreated': file.analysisDate,
                        'relevanceScore': file.relevanceScore
                    },
                    'encoding': {
                        '@type': 'MediaObject',
                        'encodingFormat': 'text/markdown'
                    },
                    '@metadata': {
                        'relevanceScore': file.relevanceScore,
                        'analyzed': file.analyzed,
                        'analysisDate': file.analysisDate,
                        'categories': file.categories,
                        'preview': file.preview,
                        'totalChunks': 3
                    },
                    '@chunks': [
                        {
                            '@type': 'TextDigitalDocument',
                            '@id': 'chunk-1',
                            'position': 0,
                            'text': 'Este documento descreve a implementa√ß√£o...',
                            'wordCount': 45,
                            'embedding': {
                                '@type': 'PropertyValue',
                                'propertyID': 'embedding-vector',
                                'value': '[768 dimensional vector]',
                                'dimension': 768,
                                'model': 'nomic-embed-text'
                            }
                        }
                    ]
                };
            }
        };

        function generateComparison() {
            const status = document.getElementById('status');
            status.textContent = 'Gerando...';
            status.className = 'status';

            try {
                // Sem Schema.org - dados planos
                const withoutSchema = {
                    id: exampleFile.id,
                    name: exampleFile.name,
                    analysisType: exampleFile.analysisType,
                    categories: exampleFile.categories,
                    relevanceScore: exampleFile.relevanceScore,
                    metadata: {
                        created: exampleFile.createdDate,
                        modified: exampleFile.modifiedDate,
                        analyzed: exampleFile.analyzed
                    }
                };

                // Com Schema.org - dados sem√¢nticos
                const withSchema = SchemaOrgMapper.mapToSchema(exampleFile);

                // Exibir compara√ß√£o
                document.getElementById('without-schema').textContent = JSON.stringify(withoutSchema, null, 2);
                document.getElementById('with-schema').textContent = JSON.stringify(withSchema, null, 2);

                status.textContent = '‚úÖ Compara√ß√£o gerada!';
                status.className = 'status success';

                // Destacar diferen√ßas importantes
                setTimeout(() => {
                    highlightDifferences();
                }, 100);

            } catch (error) {
                status.textContent = '‚ùå Erro: ' + error.message;
                status.className = 'status error';
            }
        }

        function highlightDifferences() {
            // Destacar @context e @type no Schema.org
            const withSchemaText = document.getElementById('with-schema').innerHTML;
            const highlighted = withSchemaText
                .replace(/"@context":/g, '<span class="highlight">"@context":</span>')
                .replace(/"@type":/g, '<span class="highlight">"@type":</span>')
                .replace(/"@id":/g, '<span class="highlight">"@id":</span>')
                .replace(/TechArticle/g, '<span class="highlight">TechArticle</span>');
            
            document.getElementById('with-schema').innerHTML = highlighted;
        }

        // Gerar automaticamente ao carregar
        window.addEventListener('load', () => {
            generateComparison();
        });
    </script>
</body>
</html>