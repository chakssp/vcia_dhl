<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Debug QdrantService</title>
</head>
<body>
    <h1>Debug QdrantService</h1>
    <pre id="output"></pre>
    
    <script>
        const output = document.getElementById('output');
        
        function log(msg) {
            output.textContent += msg + '\n';
            console.log(msg);
        }
        
        log('=== DEBUG QDRANTSERVICE ===');
        log('1. Verificando window.KC: ' + (typeof window.KC));
        log('2. Verificando window.KnowledgeConsolidator: ' + (typeof window.KnowledgeConsolidator));
        
        // Tentar carregar manualmente
        if (!window.KC) {
            log('3. Criando KC manualmente...');
            window.KnowledgeConsolidator = window.KnowledgeConsolidator || {};
            window.KC = window.KnowledgeConsolidator;
        }
        
        // Carregar script
        log('4. Carregando QdrantService.js...');
        const script = document.createElement('script');
        script.src = 'js/services/QdrantService.js';
        script.onload = function() {
            log('5. Script carregado!');
            log('6. KC.QdrantService existe? ' + (typeof KC.QdrantService));
            
            if (KC.QdrantService) {
                log('7. QdrantService carregado com sucesso!');
                log('8. Métodos disponíveis:');
                Object.getOwnPropertyNames(Object.getPrototypeOf(KC.QdrantService))
                    .filter(name => typeof KC.QdrantService[name] === 'function')
                    .forEach(method => log('   - ' + method));
            }
        };
        script.onerror = function(error) {
            log('ERRO ao carregar script: ' + error);
        };
        document.head.appendChild(script);
    </script>
</body>
</html>